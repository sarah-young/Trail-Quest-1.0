<!-- Page showing users their pending and completed trails -->
{% extends 'base.html' %}
{% block title %}
My Trails
{% endblock %}

{% block content %}
<!-- UNFINISHED TRAILS -->
<div class="row">
  <div class="col-lg-12">
    <div id="your-trails-title">
      <br>
    <h2>Your Trails</h2>
    <br>
    </div>
  </div>
</div>

  <div class="row">
    <div class="col-lg-12">
      <div class="badges">
        {% for merit in merit_list %}
        <div class="badge-class" id="{{ merit }}">
          <img class="badge-image" title="{{ merit | replace("-"," ") | title }}" src="/static/img/{{merit}}.jpg">
        </div>
       {% endfor %}
      </div>
    </div>
  </div>
<!-- USER'S TRAILS -->
<div class="row">
  <div class ="col-lg-12">
    <div class = "remaining-trails">
      {% if remaining_trails != 0 %}
      {% for trail in remaining_trails %}
        <div class="trek-details" id="div-{{ trail.trail_id }}">
          Trail name: {{ trail.trail_name }} <a href="/trail/{{ trail.trail_id }}">Link</a><br>
          Trail length: {{ trail.trail_length }}<br>
          Trail Description: {{ trail.trail_description }}<br>
          <div class="trek-buttons">
            Completed the trail? Add your notes and mark as completed.<br>
            <textarea placeholder="Add some notes about your hike." rows=‘50’ cols=‘100’ id="{{ trail.trail_id }}-text"></textarea><br>
            <button type="button" class="trailcompleted" name="{{ trail.trail_id }}">Mark trail as completed</button>
            <button type="button" class="removetrail" name="{{ trail.trail_id}}" id="{{ trail.trail_id }}">Remove Trail</button>
          </div>
        </div>
      {% endfor %}
      {% else %}
      No trails are in your database. Let's <a href="/homepage">add some!</a>
      {% endif %}
    </div>
  </div>
</div>


<!-- COMPLETED TRAILS -->
<h2>Your Completed Trails</h2>
<br>
{% if completed_trails != 0 %}
  {% for review in completed_trails %}
  <div class="reviewed-trails">
    Trail name: {{ review.trails.trail_name }}<br>
    Miles hiked: {{ "%d" % review.trails.trail_length }} Trail difficulty: {{ review.trails.trail_difficulty }}
    {% if review.review_text != "" %}
    <div class="review_text">Your Review: {{ review.review_text }}</div>
    {% else %}
    <br>
    {% endif %}
    <br>
  </div>
  {% else %}
  <div class="reviewed-trails">
    You haven't reviewed any trails.
  </div>
  {% endfor %}
  {% endif %}

<script src='../static/mytrails.js' type="text/javascript"></script>

{% endblock %}
